<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Sample HBar</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
    body{font-family:Inter,Segoe UI,Arial,sans-serif;margin:20px;background:#f6f7fb;color:#111}
    .container{max-width:1100px;margin:0 auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 6px 30px rgba(20,30,60,0.08)}
    h2{margin:0 0 12px 0;font-size:18px}
    .viz{width:100%;height:520px}
    .legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .legend-item{display:flex;align-items:center;gap:8px;font-size:13px}
    .sw{width:14px;height:14px;border-radius:3px}
</style>
</head>
<body>
<div class='container'>
<h2>Sample HBar</h2>
<div id='viz' class='viz'></div>
<div id='legend' class='legend' aria-hidden='false'></div>
<div style='margin-top:8px;color:#666;font-size:13px'>Generated by local D3 MCP server</div>
</div>
<script src='https://d3js.org/d3.v7.min.js'></script>
<script>
const data = {"labels": ["Alpha", "Beta", "Gamma"], "values": [5, 9, 3]};

(function(){
const container = d3.select('#viz'); const payload = data||{}; const labels = payload.labels||[]; const vals = payload.values||payload.data||[];
if(!labels.length){ container.append('div').text('No horizontal bar data'); return; }
const rect = container.node().getBoundingClientRect(); const width = Math.max(320, rect.width)-40; const height = Math.max(240, rect.height)-40;
const svg = container.append('svg').attr('width', width).attr('height', height).append('g').attr('transform','translate(100,10)');
const y = d3.scaleBand().domain(labels).range([0, height-60]).padding(0.1);
const x = d3.scaleLinear().domain([0, d3.max(vals)||0]).range([0, width-160]);
svg.selectAll('rect').data(labels).enter().append('rect').attr('y', d=>y(d)).attr('x',0).attr('height', y.bandwidth()).attr('width', (d,i)=>x(vals[i]||0)).attr('fill','#4C78A8');
svg.append('g').call(d3.axisLeft(y));
})();

</script>
</body>
</html>
