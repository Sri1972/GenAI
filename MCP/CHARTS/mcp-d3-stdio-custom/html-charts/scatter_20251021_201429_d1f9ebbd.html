<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Sample Scatter</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
    body{font-family:Inter,Segoe UI,Arial,sans-serif;margin:20px;background:#f6f7fb;color:#111}
    .container{max-width:1100px;margin:0 auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 6px 30px rgba(20,30,60,0.08)}
    h2{margin:0 0 12px 0;font-size:18px}
    .viz{width:100%;height:520px}
    .legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .legend-item{display:flex;align-items:center;gap:8px;font-size:13px}
    .sw{width:14px;height:14px;border-radius:3px}
</style>
</head>
<body>
<div class='container'>
<h2>Sample Scatter</h2>
<div id='viz' class='viz'></div>
<div id='legend' class='legend' aria-hidden='false'></div>
<div style='margin-top:8px;color:#666;font-size:13px'>Generated by local D3 MCP server</div>
</div>
<script src='https://d3js.org/d3.v7.min.js'></script>
<script>
const data = {"points": [{"x": 1, "y": 3}, {"x": 2, "y": 5}, {"x": 3, "y": 2, "r": 6}]};

(function(){
const container = d3.select('#viz'); const payload = data||{}; const pts = payload.points || payload.data || [];
if(!pts.length){ container.append('div').text('No scatter data'); return; }
const rect = container.node().getBoundingClientRect(); const width = Math.max(320, rect.width)-40; const height = Math.max(240, rect.height)-40;
const svg = container.append('svg').attr('width', width).attr('height', height).append('g').attr('transform','translate(40,20)');
const x = d3.scaleLinear().domain(d3.extent(pts, d=>+d.x||0)).range([0, width-80]); const y = d3.scaleLinear().domain(d3.extent(pts, d=>+d.y||0)).range([height-80,0]);
svg.append('g').attr('transform',`translate(0,${height-80})`).call(d3.axisBottom(x)); svg.append('g').call(d3.axisLeft(y));
svg.selectAll('circle').data(pts).enter().append('circle').attr('cx',d=>x(+d.x||0)).attr('cy',d=>y(+d.y||0)).attr('r', d=>+d.r||4).attr('fill', d=>d.color||'#1f77b4').attr('opacity',0.9);
})();

</script>
</body>
</html>
